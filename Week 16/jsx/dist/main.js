/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./main.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./animation.js":
/*!**********************!*\
  !*** ./animation.js ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar TICK = Symbol(\"tick\");\nvar TICK_HANDLER = Symbol(\"tick-handler\");\nvar ANIMATIONS = Symbol(\"animations\");\nvar START_TIME = Symbol(\"start-time\");\nvar PAUSE_START = Symbol(\"pause-start\");\nvar PAUSE_TIME = Symbol(\"pause-time\");\n\nvar Timeline = exports.Timeline = function () {\n    function Timeline() {\n        _classCallCheck(this, Timeline);\n\n        this.state = \"init\";\n        this[ANIMATIONS] = new Set();\n        this[START_TIME] = new Map();\n    }\n\n    _createClass(Timeline, [{\n        key: \"start\",\n        value: function start() {\n            var _this = this;\n\n            if (this.state !== \"init\") return;\n            this.state = \"start\";\n            var startTime = Date.now();\n            this[PAUSE_TIME] = 0;\n            this[TICK] = function () {\n                var now = Date.now();\n                var _iteratorNormalCompletion = true;\n                var _didIteratorError = false;\n                var _iteratorError = undefined;\n\n                try {\n                    for (var _iterator = _this[ANIMATIONS][Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                        var animation = _step.value;\n\n                        var t = void 0;\n                        if (_this[START_TIME].get(animation) < startTime) {\n                            t = now - startTime - _this[PAUSE_TIME] - animation.duration;\n                        } else {\n                            t = now - _this[START_TIME].get(animation) - _this[PAUSE_TIME] - animation.duration;\n                        }\n                        if (animation.duration < t) {\n                            _this[ANIMATIONS].delete(animation);\n                            t = animation.duration;\n                        }\n                        if (t > 0) animation.receive(t); // 使用t0，不会超出范围\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return) {\n                            _iterator.return();\n                        }\n                    } finally {\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n\n                _this[TICK_HANDLER] = requestAnimationFrame(_this[TICK]);\n            };\n            this[TICK]();\n        }\n    }, {\n        key: \"pause\",\n        value: function pause() {\n            if (this.state !== \"start\") return;\n            this.state = \"pause\";\n            this[PAUSE_START] = Date.now();\n            cancelAnimationFrame(this[TICK_HANDLER]);\n        }\n    }, {\n        key: \"resume\",\n        value: function resume() {\n            if (this.state !== \"pause\") return;\n            this.state = \"start\";\n            this[PAUSE_TIME] += Date.now() - this[PAUSE_START];\n            this[TICK]();\n        }\n    }, {\n        key: \"reset\",\n        value: function reset() {\n            this.state = \"init\";\n            this.pause();\n            var startTime = Date.now();\n            this[PAUSE_TIME] = 0;\n            this[PAUSE_START] = 0;\n            this[ANIMATIONS] = new Set();\n            this[START_TIME] = new Map();\n            this[TICK_HANDLER] = null;\n        }\n    }, {\n        key: \"add\",\n        value: function add(animation, startTime) {\n            if (arguments.length < 2) {\n                startTime = Date.now();\n            }\n            this[ANIMATIONS].add(animation);\n            this[START_TIME].set(animation, startTime);\n        }\n    }]);\n\n    return Timeline;\n}();\n\nvar Animation = exports.Animation = function () {\n    function Animation(object, property, startValue, endValue, duration, delay, timingFunction, template) {\n        _classCallCheck(this, Animation);\n\n        timingFunction = timingFunction || function (v) {\n            return v;\n        };\n        template = template || function (v) {\n            return v;\n        };\n\n        this.object = object;\n        this.property = property;\n        this.startValue = startValue;\n        this.endValue = endValue;\n        this.duration = duration;\n        this.delay = delay;\n        this.timingFunction = timingFunction;\n        this.template = template;\n    }\n\n    _createClass(Animation, [{\n        key: \"receive\",\n        value: function receive(time) {\n            var range = this.endValue - this.startValue;\n            // this.object[this.property] = this.startValue + range * time / this.duration;\n            var progress = this.timingFunction(time / this.duration);\n            this.object[this.property] = this.template(this.startValue + range * time / this.duration);\n        }\n    }]);\n\n    return Animation;\n}();\n\n//# sourceURL=webpack:///./animation.js?");

/***/ }),

/***/ "./carousel.js":
/*!*********************!*\
  !*** ./carousel.js ***!
  \*********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _framework = __webpack_require__(/*! ./framework.js */ \"./framework.js\");\n\nvar _gesture = __webpack_require__(/*! ./gesture.js */ \"./gesture.js\");\n\nvar _animation = __webpack_require__(/*! ./animation.js */ \"./animation.js\");\n\nvar _cubicBezier = __webpack_require__(/*! ./cubicBezier.js */ \"./cubicBezier.js\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Carousel = function (_Component) {\n    _inherits(Carousel, _Component);\n\n    function Carousel() {\n        _classCallCheck(this, Carousel);\n\n        var _this = _possibleConstructorReturn(this, (Carousel.__proto__ || Object.getPrototypeOf(Carousel)).call(this));\n\n        _this.attributes = Object.create(null);\n        return _this;\n    }\n\n    _createClass(Carousel, [{\n        key: 'setAttribute',\n        value: function setAttribute(name, value) {\n            this.attributes[name] = value;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            this.root = document.createElement('div');\n            this.root.classList.add('carousel');\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = this.attributes.src[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var record = _step.value;\n\n                    // let child = document.createElement('img');\n                    // child.setAttribute('src', record);\n                    var child = document.createElement('div');\n                    child.style.backgroundImage = 'url(' + record + ')';\n                    this.root.appendChild(child);\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n\n            (0, _gesture.enableGesture)(this.root);\n\n            // let children = this.root.children;\n\n            var position = 0; // 局部变量充当state\n\n            // this.root.addEventListener(\"pan\", (event)=>{\n            //     console.log(event.clientX);\n            // })\n\n            /* */\n            this.root.addEventListener(\"mousedown\", function (event) {\n                // console.log(\"mousedown\");\n                var children = _this2.root.children;\n                var startX = event.clientX;\n\n                var move = function move(event) {\n                    console.log(\"mousemove\");\n                    // 使用event.clientX和event.clientY获取坐标位置\n                    // console.log(event.clientX, event.clientY);\n                    var dx = event.clientX - startX;\n\n                    // let current = position - Math.round(dx / 500);\n                    var current = position - (dx - dx % 500) / 500; // 搞得这么复杂\n\n                    var _arr = [-1, 0, 1];\n                    for (var _i = 0; _i < _arr.length; _i++) {\n                        var offset = _arr[_i];\n                        var pos = current + offset; // 存在负数\n                        pos = (pos + children.length) % children.length;\n\n                        children[pos].style.transition = \"none\";\n                        children[pos].style.transform = 'translateX(' + (-pos * 500 + offset * 500 + dx % 500) + 'px)';\n                    }\n\n                    // for (let child of children) {\n                    //     child.style.transition = \"none\";\n                    //     child.style.transform = `translateX(${- position * 500 + dx}px)`;\n\n                    // }\n                };\n\n                var up = function up(event) {\n                    var dx = event.clientX - startX;\n\n                    position = position - Math.round(dx / 500);\n\n                    var _arr2 = [0, -Math.sign(Math.round(dx / 500) - dx + 250 * Math.sign(dx))];\n                    for (var _i2 = 0; _i2 < _arr2.length; _i2++) {\n                        var offset = _arr2[_i2];\n                        var pos = position + offset;\n                        pos = (pos + children.length) % children.length;\n\n                        children[pos].style.transition = \"\";\n                        children[pos].style.transform = 'translateX(' + (-pos * 500 + offset * 500) + 'px)';\n                    }\n\n                    // position = position - Math.round(dx / 500);\n                    // for (let child of children) {\n                    //     child.style.transition = \"\";\n                    //     child.style.transform = `translateX(${-position * 500}px)`;\n\n                    // }\n                    document.removeEventListener(\"mousemove\", move);\n                    document.removeEventListener(\"mouseup\", up);\n                };\n\n                document.addEventListener(\"mousemove\", move);\n                document.addEventListener(\"mouseup\", up);\n            });\n\n            /*let currentIndex = 0;\n            setInterval(()=>{\n                let children = this.root.children;\n                let nextIndex = (currentIndex + 1) % children.length;\n                 // 只控制前后两张图片\n                let current = children[currentIndex];\n                let next = children[nextIndex];\n                 next.style.transition = \"none\";\n                next.style.transform = `translateX(${100 - nextIndex * 100}%)`\n                 setTimeout(()=>{\n                    next.style.transition = \"\";\n                    current.style.transform = `translateX(${-100 - currentIndex * 100}%)`\n                    next.style.transform = `translateX(${-nextIndex * 100}%)`\n                     currentIndex = nextIndex;\n                }, 16);\n                \n                // for (let child of children) {\n                //     child.style.transform = `translateX(-${current*100}%)`;\n                // }\n            }, 3000);\n            */\n            // console.log(this.attributes.src);\n\n            return this.root;\n        }\n    }, {\n        key: 'mounteTo',\n        value: function mounteTo(parent) {\n            parent.appendChild(this.render());\n        }\n    }]);\n\n    return Carousel;\n}(_framework.Component);\n\nexports.default = Carousel;\n\n//# sourceURL=webpack:///./carousel.js?");

/***/ }),

/***/ "./cubicBezier.js":
/*!************************!*\
  !*** ./cubicBezier.js ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.cubicBezier = cubicBezier;\nfunction cubicBezier(p1x, p1y, p2x, p2y) {\n    var ZERO_LIMIT = 1e-6;\n    var ax = 3 * p1x - 3 * p2x + 1;\n    var bx = 3 * p2x - 6 * p1x;\n    var cx = 3 * p1x;\n\n    var ay = 3 * p1y - 3 * p2y + 1;\n    var by = 3 * p2y - 6 * p1y;\n    var cy = 3 * p1y;\n\n    function sampleCurveDerivativeX(t) {\n        return (3 * ax * t + 2 * bx) * t + cx;\n    }\n\n    function sampleCurveX(t) {\n        return ((ax * t + bx) * t + cx) * t;\n    }\n\n    function sampleCurveY(t) {\n        return ((ay * t + by) * t + cy) * t;\n    }\n\n    function solveCurveX(x) {\n        var t2 = x;\n        var derivative;\n        var x2;\n\n        for (var i = 0; i < 8; i++) {\n            x2 = sampleCurveX(t2) - x;\n            if (Math.abx(x2) < ZERO_LIMIT) {\n                return t2;\n            }\n            derivative = sampleCurveDerivativeX(t2);\n            if (Math.abs(derivative) < ZERO_LIMIT) {\n                break;\n            }\n            t2 -= x2 / derivative;\n        }\n\n        var t1 = 1;\n        var t0 = 0;\n\n        t2 = x;\n        while (t1 > t0) {\n            x2 = sampleCurveX(t2) - x;\n            if (Math.abs(x2) < ZERO_LIMIT) {\n                return t2;\n            }\n            if (x2 > 0) {\n                t1 = t2;\n            } else {\n                t0 = t2;\n            }\n            t2 = (t1 + t0) / 2;\n        }\n\n        return t2;\n    }\n\n    function solve(x) {\n        return sampleCurveY(solveCurveX(x));\n    }\n\n    return solve;\n}\n\nvar ease = exports.ease = cubicBezier(.25, .1, .25, 1);\n\nvar linear = exports.linear = cubicBezier(0, 0, 1, 1);\n\n//# sourceURL=webpack:///./cubicBezier.js?");

/***/ }),

/***/ "./framework.js":
/*!**********************!*\
  !*** ./framework.js ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.createElement = createElement;\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction createElement(type, attributes) {\n    var element = void 0;\n    if (typeof type === 'string') {\n        // 原生的元素\n        // element = document.createElement(type);\n        element = new ElementWrapper(type);\n    } else {\n        element = new type();\n    }\n    for (var name in attributes) {\n        element.setAttribute(name, attributes[name]);\n    }\n    var processChildren = function processChildren(children) {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n            for (var _iterator = children[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                var child = _step.value;\n\n                if ((typeof child === 'undefined' ? 'undefined' : _typeof(child)) === \"object\" && child instanceof Array) {\n                    processChildren(child);\n                    continue;\n                }\n                if (typeof child === 'string') {\n                    // child = document.createTextNode(child);\n                    child = new TextWrapper(child);\n                }\n                element.appendChild(child);\n            }\n        } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                }\n            } finally {\n                if (_didIteratorError) {\n                    throw _iteratorError;\n                }\n            }\n        }\n    };\n\n    for (var _len = arguments.length, children = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n        children[_key - 2] = arguments[_key];\n    }\n\n    processChildren(children);\n\n    return element;\n}\n\nvar STATE = exports.STATE = Symbol(\"state\");\nvar ATTRIBUTE = exports.ATTRIBUTE = Symbol(\"attribute\");\n\nvar Component = exports.Component = function () {\n    function Component(type) {\n        _classCallCheck(this, Component);\n\n        // this.root = this.render();\n        this[ATTRIBUTE] = Object.create(null);\n        this[STATE] = Object.create(null);\n    }\n\n    _createClass(Component, [{\n        key: 'setAttribute',\n        value: function setAttribute(name, value) {\n            // this.root.setAttribute(name, value);\n            this[ATTRIBUTE][name] = value;\n        }\n    }, {\n        key: 'appendChild',\n        value: function appendChild(child) {\n            child.mounteTo(this.root);\n        }\n    }, {\n        key: 'mounteTo',\n        value: function mounteTo(parent) {\n            if (!this.root) this.render();\n            parent.appendChild(this.root);\n        }\n    }, {\n        key: 'triggerEvent',\n        value: function triggerEvent(type, args) {\n            this[ATTRIBUTE][\"on\" + type.replace(/^[\\s\\S]/, function (s) {\n                return s.toUpperCase();\n            })];\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            //     return document.createElement('div');\n            return this.root;\n        }\n    }]);\n\n    return Component;\n}();\n\nvar ElementWrapper = function (_Component) {\n    _inherits(ElementWrapper, _Component);\n\n    function ElementWrapper(type) {\n        _classCallCheck(this, ElementWrapper);\n\n        var _this = _possibleConstructorReturn(this, (ElementWrapper.__proto__ || Object.getPrototypeOf(ElementWrapper)).call(this));\n\n        _this.root = document.createElement(type);\n        return _this;\n    }\n\n    _createClass(ElementWrapper, [{\n        key: 'setAttribute',\n        value: function setAttribute(name, value) {\n            this.root.setAttribute(name, value);\n        }\n    }]);\n\n    return ElementWrapper;\n}(Component);\n\nvar TextWrapper = function (_Component2) {\n    _inherits(TextWrapper, _Component2);\n\n    function TextWrapper(content) {\n        _classCallCheck(this, TextWrapper);\n\n        var _this2 = _possibleConstructorReturn(this, (TextWrapper.__proto__ || Object.getPrototypeOf(TextWrapper)).call(this));\n\n        _this2.root = document.createTextNode(content);\n        return _this2;\n    }\n\n    return TextWrapper;\n}(Component);\n\n//# sourceURL=webpack:///./framework.js?");

/***/ }),

/***/ "./gesture.js":
/*!********************!*\
  !*** ./gesture.js ***!
  \********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.enableGesture = enableGesture;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// 封装 listen => recognize => dispatch\n\n// new Listener(new Recognizer(dispatch))\n\n// Dom Listener or Other Listener\n\n// Dom Dispatcher or Other Dispatcher\n\nvar Listener = exports.Listener = function Listener(element, recognizer) {\n    _classCallCheck(this, Listener);\n\n    var isListeningMouse = false;\n\n    var contexts = new Map();\n\n    element.addEventListener(\"mousedown\", function (event) {\n        var context = Object.create(null); // kv的匹配，避免Object的原始属性的干扰\n        contexts.set(\"mouse\" + (1 << event.button), context);\n\n        recognizer.start(event, context);\n\n        var mousemove = function mousemove(event) {\n            console.log('mousemove', event.clientX, event.clientY);\n            var button = 1;\n            while (button <= event.buttons) {\n                // 掩码的古典设计\n                if (button & event.buttons) {\n                    // order of buttons & button property is not same\n                    var key = void 0;\n                    if (button === 2) key = 4;else if (button === 4) key = 2;else key = button;\n                    var _context = contexts.get(\"mouse\" + key);\n                    recognizer.move(event, _context);\n                }\n                button = button << 1;\n            }\n        };\n\n        var mouseup = function mouseup(event) {\n            var context = contexts.get(\"mouse\" + (1 << event.button));\n            console.log('mouseup end', context);\n            recognizer.end(event, context);\n            contexts.delete(\"mouse\" + (1 << event.button));\n\n            if (event.buttons === 0) {\n                document.removeEventListener(\"mousemove\", mousemove);\n                document.removeEventListener(\"mouseup\", mouseup);\n                isListeningMouse = false;\n            }\n        };\n        // mouseup调用次数过多\n        if (!isListeningMouse) {\n            document.addEventListener(\"mousemove\", mousemove);\n            document.addEventListener(\"mouseup\", mouseup);\n            isListeningMouse = true;\n        }\n    });\n\n    element.addEventListener(\"touchstart\", function (event) {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n            for (var _iterator = event.changedTouches[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                var touch = _step.value;\n\n                // console.log(touch.clientX, touch.clientY);\n                var context = Object.create(null);\n                contexts.set(touch.identifier, context);\n                recognizer.start(touch, context);\n            }\n        } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                }\n            } finally {\n                if (_didIteratorError) {\n                    throw _iteratorError;\n                }\n            }\n        }\n    });\n    element.addEventListener(\"touchmove\", function (event) {\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n            for (var _iterator2 = event.changedTouches[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                var touch = _step2.value;\n\n                // console.log(touch.clientX, touch.clientY);\n                var context = contexts.get(touch.identifier);\n                recognizer.move(touch, context);\n            }\n        } catch (err) {\n            _didIteratorError2 = true;\n            _iteratorError2 = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                    _iterator2.return();\n                }\n            } finally {\n                if (_didIteratorError2) {\n                    throw _iteratorError2;\n                }\n            }\n        }\n    });\n    element.addEventListener(\"touchend\", function (event) {\n        var _iteratorNormalCompletion3 = true;\n        var _didIteratorError3 = false;\n        var _iteratorError3 = undefined;\n\n        try {\n            for (var _iterator3 = event.changedTouches[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                var touch = _step3.value;\n\n                // console.log(touch.clientX, touch.clientY);\n                var context = contexts.get(touch.identifier);\n                recognizer.end(touch, context);\n                contexts.delete(touch.identifier);\n            }\n        } catch (err) {\n            _didIteratorError3 = true;\n            _iteratorError3 = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                    _iterator3.return();\n                }\n            } finally {\n                if (_didIteratorError3) {\n                    throw _iteratorError3;\n                }\n            }\n        }\n    });\n    element.addEventListener(\"touchcancel\", function (event) {\n        var _iteratorNormalCompletion4 = true;\n        var _didIteratorError4 = false;\n        var _iteratorError4 = undefined;\n\n        try {\n            for (var _iterator4 = event.changedTouches[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n                var touch = _step4.value;\n\n                // console.log(touch.clientX, touch.clientY);\n                var context = contexts.get(touch.identifier);\n                recognizer.cancel(touch, context);\n                contexts.delete(touch.identifier);\n            }\n        } catch (err) {\n            _didIteratorError4 = true;\n            _iteratorError4 = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion4 && _iterator4.return) {\n                    _iterator4.return();\n                }\n            } finally {\n                if (_didIteratorError4) {\n                    throw _iteratorError4;\n                }\n            }\n        }\n    });\n};\n\nvar Recognizer = exports.Recognizer = function () {\n    function Recognizer(dispatcher) {\n        _classCallCheck(this, Recognizer);\n\n        this.dispatcher = dispatcher;\n    }\n    // 一段时间之内的点的速度的平均\n\n\n    _createClass(Recognizer, [{\n        key: \"start\",\n        value: function start(point, context) {\n            var _this = this;\n\n            console.log('start', point.clientX, point.clientY);\n            context.startX = point.clientX, context.startY = point.clientY;\n            context.points = [{\n                t: Date.now(),\n                x: point.clientX,\n                y: point.clientY\n            }];\n\n            context.isTap = true; // tap 点击\n            context.isPan = false; // pan 随着手指移动\n            context.isPress = false; // 按下\n\n            context.handler = setTimeout(function () {\n                console.log(\"press\");\n                context.isTap = false;\n                context.isPan = false;\n                context.isPress = true;\n                context.handler = null;\n                _this.dispatcher.dispatch(\"press\", {});\n            }, 500);\n        }\n    }, {\n        key: \"move\",\n        value: function move(point, context) {\n            var dx = point.clientX - context.startX,\n                dy = point.clientY - context.startY;\n\n            context.isVertical = Math.abs(dx) < Math.abs(dy);\n            // 移动10px\n            if (!context.isPan && Math.pow(dx, 2) + Math.pow(dy, 2) > 100) {\n                context.isTap = false;\n                context.isPan = true;\n                context.isPress = false;\n                console.log(\"panstart\");\n                this.dispatcher.dispatch(\"panstart\", {\n                    startX: context.startX,\n                    startY: context.startY,\n                    clientX: point.clientX,\n                    clientY: point.clientY,\n                    isVertical: context.isVertical\n                });\n                clearTimeout(context.handler);\n            }\n\n            if (context.isPan) {\n                console.log(\"pan\");\n                this.dispatcher.dispatch(\"pan\", {\n                    startX: context.startX,\n                    startY: context.startY,\n                    clientX: point.clientX,\n                    clientY: point.clientY,\n                    isVertical: context.isVertical\n                });\n            }\n\n            context.points = context.points.filter(function (point) {\n                return Date.now() - point.t < 500;\n            });\n\n            context.points.push({\n                t: Date.now(),\n                x: point.clientX,\n                y: point.clientY\n            });\n        }\n    }, {\n        key: \"end\",\n        value: function end(point, context) {\n            console.log(\"end\", context);\n            if (context.isTap) {\n                // console.log(\"tap\");\n                this.dispatcher.dispatch(\"tap\", {});\n                clearTimeout(context.handler);\n            }\n            if (context.isPress) {\n                console.log(\"pressend\");\n                this.dispatcher.dispatch(\"pressend\", {});\n            }\n            context.points = context.points.filter(function (point) {\n                return Date.now() - point.t < 500;\n            });\n            var d = void 0,\n                v = void 0;\n            if (!context.points.length) {\n                v = 0;\n            } else {\n                d = Math.sqrt(Math.pow(point.clientX - context.points[0].x, 2) + Math.pow(point.clientY - context.points[0].y, 2));\n                v = d / (Date.now() - context.points[0].t);\n            }\n\n            if (v > 1.5) {\n                console.log(\"flick\");\n                this.dispatcher.dispatch(\"flick\", {\n                    startX: context.startX,\n                    startY: context.startY,\n                    clientX: point.clientX,\n                    clientY: point.clientY,\n                    isVertical: context.isVertical,\n                    isFlick: context.isFlick,\n                    vocity: v\n                });\n                context.isFlick = true;\n            } else {\n                context.isFlick = false;\n            }\n            if (context.isPan) {\n                console.log(\"panend\");\n                this.dispatcher.dispatch(\"panend\", {\n                    startX: context.startX,\n                    startY: context.startY,\n                    clientX: point.clientX,\n                    clientY: point.clientY,\n                    isVertical: context.isVertical,\n                    isFlick: context.isFlick\n                });\n            }\n            // console.log(\"end\", point.clientX, point.clientY);\n        }\n    }, {\n        key: \"cancel\",\n        value: function cancel(point, context) {\n            clearTimeout(context.handler);\n            console.log(\"cancel\", point.clientX, point.clientY);\n            this.dispatcher.dispatch(\"cancel\", {});\n        }\n    }]);\n\n    return Recognizer;\n}();\n\nvar Dispatcher = exports.Dispatcher = function () {\n    function Dispatcher(element) {\n        _classCallCheck(this, Dispatcher);\n\n        this.element = element;\n    }\n\n    _createClass(Dispatcher, [{\n        key: \"dispatch\",\n        value: function dispatch(type, properties) {\n            var event = new Event(type);\n            for (var name in properties) {\n                event[name] = properties[name];\n            }\n            this.element.dispatchEvent(event);\n        }\n    }]);\n\n    return Dispatcher;\n}();\n\nfunction enableGesture(element) {\n    new Listener(element, new Recognizer(new Dispatcher(element)));\n}\n\n//# sourceURL=webpack:///./gesture.js?");

/***/ }),

/***/ "./main.js":
/*!*****************!*\
  !*** ./main.js ***!
  \*****************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _framework = __webpack_require__(/*! ./framework.js */ \"./framework.js\");\n\nvar _carousel = __webpack_require__(/*! ./carousel.js */ \"./carousel.js\");\n\nvar _carousel2 = _interopRequireDefault(_carousel);\n\nvar _animation = __webpack_require__(/*! ./animation.js */ \"./animation.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar imgs = ['https://static001.geekbang.org/resource/image/95/d1/95775d0927a580170673aedfc70e33d1.jpg', 'https://static001.geekbang.org/resource/image/37/e4/37fbe168a471e8ee1267fd741d096fe4.jpg', 'https://static001.geekbang.org/resource/image/f7/f8/f7c1822abb4382896b9b4d3530b02ff8.jpg'];\n\n// var a = <Div id=\"a\">\n//     <span>1</span>\n//     <span>2</span>\n//     <span>3</span>\n//     </Div>;\n\n// document.body.appendChild(a);\n\nvar a = (0, _framework.createElement)(_carousel2.default, { 'class': 'carousel', src: imgs });\n\na.mounteTo(document.body);\n\nvar tl = new _animation.Timeline();\nwindow.tl = tl;\nwindow.animation = new _animation.Animation({ set a(v) {\n        console.log(v);\n    } }, \"a\", 0, 100, 1000, null);\n\n// tl.add(new Animation({ set a(v) {console.log(v)} }, \"a\", 0, 100, 1000, null));\ntl.start();\n\n//# sourceURL=webpack:///./main.js?");

/***/ })

/******/ });